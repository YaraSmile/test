(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6b0f"],{"3HQx":function(e,t,a){"use strict";var n=a("ED/L");a.n(n).a},"ED/L":function(e,t,a){},J9cr:function(e,t,a){"use strict";a.r(t);var n=a("dewd"),r={name:"PeopleLibrary",directives:{waves:a("ZySA").a},data:function(){return{listQuery:{pageNo:1,pageSize:20},list:[],total:null,loading:!1,peopleLibraryKey:"peopleLibraryKey"}},computed:{region:function(){return this.$store.getters.selectRegion||sessionStorage.getItem("crm_selectRegion")}},watch:{region:function(e,t){this.getPeopleLibrary()}},created:function(){this.getPeopleLibrary()},methods:{getPeopleLibrary:function(){var e=this;this.loading=!0,Object(n.f)(this.listQuery).then(function(t){e.loading=!1,console.log(777,t),1===t.data.code?(e.list=t.data.data.list,e.total=t.data.data.total):e.$notify({title:"fail",type:"error",duration:3e3})}).catch(function(t){e.loading=!1,e.$alert("get people library:"+t)})},handleSizeChange:function(e){this.listQuery.pageSize=e,this.getPeopleLibrary()},handleCurrentChange:function(e){this.listQuery.pageNo=e,this.getPeopleLibrary()},handleStart:function(e){var t=this;Object(n.j)(e.id).then(function(e){1===e.data.code?(t.getPeopleLibrary(),t.$notify({type:"success",message:"Start successfully",duration:2e3})):t.$alert("Start Error: "+e.data.msg)}).catch(function(e){t.$alert("Start:"+e)})},handleStop:function(e){var t=this;Object(n.k)(e.id).then(function(e){1===e.data.code?(t.getPeopleLibrary(),t.$notify({type:"success",message:"Stop successfully",duration:2e3})):t.$alert("Stop Error: "+e.data.msg)}).catch(function(e){t.$alert("Stop Error:"+e)})},handleDelete:function(e){var t=this;Object(n.h)(e.id).then(function(e){1===e.data.code?(t.getPeopleLibrary(),t.$notify({type:"success",message:"Delete successfully",duration:2e3})):t.$alert("Delete Error: "+e.data.msg)}).catch(function(e){t.$alert("Delete: "+e)})},handleEdit:function(e){this.$router.push({name:"editPeopleLibrary",params:{row:e.id}})}}},o=(a("3HQx"),a("KHd+")),i=Object(o.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:e.peopleLibraryKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:e.$t("crm.id"),align:"center",width:"60%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("crm.peopleLibraryDesc"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.peopleLibraryDesc))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("crm.controlGroup"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.controlGroupList,function(t){return a("div",{key:t.controlGroupId},[a("span",[e._v(e._s(t.controlGroupName)+" : "+e._s(t.ratio)+"%")])])})}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("crm.executeMode"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.executeMode))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("crm.startDate"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.startDate))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("crm.endDate"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.endDate))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("crm.status"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(0===t.row.state?"Unexecuted":1===t.row.state?"Running":2===t.row.state?"Pause":"Done"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("crm.actions"),align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.state||2===t.row.state?a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"actionButton",attrs:{type:"primary",size:"mini"},on:{click:function(a){e.handleStart(t.row)}}},[e._v(e._s(e.$t("crm.start")))]):e._e(),e._v(" "),1===t.row.state?a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"actionButton",attrs:{type:"success",size:"mini"},on:{click:function(a){e.handleStop(t.row)}}},[e._v(e._s(e.$t("crm.stop")))]):e._e(),e._v(" "),0===t.row.state||2===t.row.state?a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"actionButton",attrs:{type:"primary",size:"mini"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v(e._s(e.$t("crm.edit")))]):e._e(),e._v(" "),1!==t.row.state?a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"actionButton",attrs:{type:"danger",size:"mini"},on:{click:function(a){e.handleDelete(t.row)}}},[e._v(e._s(e.$t("crm.delete")))]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.listQuery.pageNo,"page-sizes":[10,20,30,50],"page-size":e.listQuery.pageSize,total:e.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},[],!1,null,"a951863a",null);i.options.__file="PeopleLibrary.vue";t.default=i.exports},ZySA:function(e,t,a){"use strict";var n=a("P2sY"),r=a.n(n),o=(a("jUE0"),{bind:function(e,t){e.addEventListener("click",function(a){var n=r()({},t.value),o=r()({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),i=o.ele;if(i){i.style.position="relative",i.style.overflow="hidden";var s=i.getBoundingClientRect(),l=i.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":((l=document.createElement("span")).className="waves-ripple",l.style.height=l.style.width=Math.max(s.width,s.height)+"px",i.appendChild(l)),o.type){case"center":l.style.top=s.height/2-l.offsetHeight/2+"px",l.style.left=s.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(a.pageY-s.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(a.pageX-s.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=o.color,l.className="waves-ripple z-active",!1}},!1)}}),i=function(e){e.directive("waves",o)};window.Vue&&(window.waves=o,Vue.use(i)),o.install=i;t.a=o},jUE0:function(e,t,a){}}]);