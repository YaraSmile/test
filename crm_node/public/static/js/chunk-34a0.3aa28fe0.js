(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-34a0"],{"0JTJ":function(e,t,i){"use strict";var a=i("Z9SW");i.n(a).a},"3V1f":function(e,t,i){"use strict";i.d(t,"G",function(){return a}),i.d(t,"v",function(){return l}),i.d(t,"D",function(){return n}),i.d(t,"B",function(){return o}),i.d(t,"y",function(){return s}),i.d(t,"t",function(){return r}),i.d(t,"z",function(){return d}),i.d(t,"w",function(){return c}),i.d(t,"A",function(){return u}),i.d(t,"C",function(){return p}),i.d(t,"F",function(){return m}),i.d(t,"H",function(){return b}),i.d(t,"x",function(){return f}),i.d(t,"E",function(){return y}),i.d(t,"u",function(){return h}),i.d(t,"m",function(){return g}),i.d(t,"h",function(){return v}),i.d(t,"o",function(){return T}),i.d(t,"n",function(){return _}),i.d(t,"k",function(){return x}),i.d(t,"s",function(){return $}),i.d(t,"r",function(){return L}),i.d(t,"c",function(){return S}),i.d(t,"e",function(){return w}),i.d(t,"f",function(){return z}),i.d(t,"j",function(){return R}),i.d(t,"b",function(){return H}),i.d(t,"q",function(){return E}),i.d(t,"d",function(){return k}),i.d(t,"i",function(){return O}),i.d(t,"a",function(){return C}),i.d(t,"p",function(){return V}),i.d(t,"g",function(){return N}),i.d(t,"l",function(){return M});var a=[{display_name:"table"},{display_name:"excel"}],l=[{display_name:"yyyyMMdd"},{display_name:"yyyyMMdd Kaa"}],n=[{display_name:"Asia/Manila"},{display_name:"Asia/Jakarta"}],o=[{display_name:"Y"},{display_name:"N"}],s=[{display_name:"Y"},{display_name:"N"}],r=[{label:"Left",value:"left"},{label:"Right",value:"right"}],d=[{label:"Y",value:"Y"},{label:"N",value:""}],c=[{display_name:"excel"},{display_name:"csv"}],u=[{label:"Y",value:"Y"},{label:"N",value:"N"}],p=[{label:"By Month",value:"MONTH"},{label:"By Week",value:"WEEK"},{label:"By Day",value:"DAY"}],m=[{label:"January",value:"1"},{label:"February",value:"2"},{label:"March",value:"3"},{label:"April",value:"4"},{label:"May",value:"5"},{label:"June",value:"6"},{label:"July",value:"7"},{label:"August",value:"8"},{label:"September",value:"9"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}],b=[{label:"Monday",value:"2"},{label:"Tuesday",value:"3"},{label:"Wednesday",value:"4"},{label:"Thursday",value:"5"},{label:"Friday",value:"6"},{label:"Saturday",value:"7"},{label:"Sunday",value:"1"}];var f=function(){for(var e=[],t=0;t<24;t++)e[t]={value:t};return console.log(3,e),e}();var y=function(){for(var e=[],t=0;t<60;t++)e[t]={value:t,label:"0"+t};return e}(),h=[{label:"1st",value:"1"},{label:"2nd",value:"2"},{label:"3rd",value:"3"},{label:"4th",value:"4"},{label:"5th",value:"5"},{label:"6th",value:"6"},{label:"7th",value:"7"},{label:"8th",value:"8"},{label:"9th",value:"9"},{label:"10th",value:"10"},{label:"11th",value:"11"},{label:"12th",value:"12"},{label:"13th",value:"13"},{label:"14th",value:"14"},{label:"15th",value:"15"},{label:"16th",value:"16"},{label:"17th",value:"17"},{label:"18th",value:"18"},{label:"19th",value:"19"},{label:"20th",value:"20"},{label:"21st",value:"21"},{label:"22nd",value:"22"},{label:"23rd",value:"23"},{label:"24th",value:"24"},{label:"25th",value:"25"},{label:"26th",value:"26"},{label:"27th",value:"27"},{label:"28th",value:"28"},{label:"29th",value:"29"},{label:"30th",value:"30"},{label:"31th",value:"31"}],g="/webapi/biz",v="/webapi/schedulereport/biz",T="/webapi/biz/publish",_="/webapi/biz/stop",x="/webapi/schedulereport/biz/getPhaseId",$="/webapi/schedulereport/table/biz",L="/webapi/schedulereport/biz/table",S="/webapi/schedulereport/table/biz",w="/webapi/schedulereport/style",z="/webapi/schedulereport/mail",R="/webapi/schedulereport/table",H="/webapi/schedulereport/table/column",E="/webapi/schedulereport/table/column",k="/webapi/schedulereport/biz/table/html",O="/webapi/schedulereport/biz",C="/webapi/schedulereport/biz/mail",V="/webapi/schedulereport/biz/mail",N="/webapi/schedulereport/excel/biz",M="/webapi/schedulereport/biz/excel"},"92sj":function(e,t,i){"use strict";var a=i("P2sY"),l=i.n(a),n=i("Ee2s"),o=i("3V1f"),s={name:"EmailRecipients",props:{bizType:{type:String,required:!0}},data:function(){return{list:null,loading:!1,temp:{bizType:this.bizType,mail:"",mailOrder:"",runtimeType:"dev"},textMap:{edit:"Edit",create:"Create"},dialogFormVisible:!1,dialogStatus:"update",rules:{mail:[{required:!0,message:"Please input Email",type:"email",trigger:"blur"}],mailOrder:[{required:!0,message:"Please input order",trigger:"blur"}]}}},created:function(){this.getRecipients()},methods:{getRecipients:function(){var e=this;console.log("env","dev"),this.loading=!0,Object(n.c)(o.i+"/"+this.bizType+"/env","dev").then(function(t){e.loading=!1,1===t.data.code?e.list=t.data.data:e.$alert("Get Email Recipients Error: "+t.data.msg)}).catch(function(t){e.$alert("Get Email Recipients Error: "+t)})},handleCreate:function(){var e=this;this.dialogFormVisible=!0,this.dialogStatus="create",this.temp.mail="",this.temp.mailOrder="",this.temp.runtimeType="dev",this.temp.bizType=this.bizType,this.temp.isValid="",this.$nextTick(function(){e.$refs.dataForm.clearValidate()})},createData:function(){var e=this;this.$refs.dataForm.validate(function(t){if(t){var i=l()({},e.temp);delete i.id,e.loading=!0,Object(n.d)(o.p,i).then(function(t){e.loading=!1,1===t.data.code?(e.dialogFormVisible=!1,e.getRecipients(),e.$notify({title:"成功",message:"提交成功",type:"success",duration:2e3})):e.$notify({title:"失败",message:t.data.msg,type:"fail",duration:2e3})}).catch(function(t){e.dialogFormVisible=!1,e.$alert(t)})}else e.$notify({title:"失败",message:"请填写正确的提交信息",type:"fail",duration:2e3})})},handleEdit:function(e){this.dialogFormVisible=!0,this.dialogStatus="edit",this.temp.id=e.id,this.temp.bizType=e.bizType,this.temp.mail=e.mail,this.temp.runtimeType=e.runtimeType,this.temp.mailOrder=e.mailOrder,this.temp.isValid=e.isValid},updateData:function(){var e=this;this.$refs.dataForm.validate(function(t){if(t){var i=l()({},e.temp);e.loading=!0,Object(n.d)(o.p,i).then(function(t){e.loading=!1,1===t.data.code?(e.getRecipients(),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"提交成功",type:"success",duration:2e3})):e.$notify({title:"失败",message:t.data.msg,type:"fail",duration:2e3})}).catch(function(t){e.dialogFormVisible=!1,e.$alert(t)})}else e.$notify({title:"失败",message:"请填写正确的提交信息",type:"fail",duration:2e3})})},handleDelete:function(e){var t=this;this.$confirm("Are you sure delete this recipient?","Tips",{confirmButtonText:"Confirm",cancelButtonText:"Cancle",type:"warning"}).then(function(){t.loading=!0,Object(n.a)(o.a,e.id).then(function(e){t.loading=!1,1===e.data.code?(t.getRecipients(),t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3})):t.$notify({title:"失败",message:e.data.msg,type:"error",duration:2e3})}).catch(function(e){t.$alert(e)})}).catch(function(e){})}}},r=i("KHd+"),d=Object(r.a)(s,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticStyle:{margin:"5px 5px 5px 5px",padding:"20px 10px 10px 20px",border:"1px solid #E4E7ED"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{margin:"0 0 20px 15px"}},[e._v(e._s(e.$t("emailRecipients.emailRecipients")))])]),e._v(" "),i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{"margin-right":"15px","margin-bottom":"15px"},attrs:{align:"right"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.handleCreate()}}},[e._v(e._s(e.$t("emailRecipients.add")))])],1)])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list,border:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:e.$t("emailRecipients.id"),width:"60px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("emailRecipients.mail")},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.mail))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("emailRecipients.runtimeType")},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.runtimeType))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("emailRecipients.mailOrder")},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.mailOrder))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("emailRecipients.actions"),prop:"actions",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticClass:"actionButton",attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(i){e.handleDelete(t.row)}}}),e._v(" "),i("el-button",{staticClass:"actionButton",attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(i){e.handleEdit(t.row)}}})]}}])})],1),e._v(" "),i("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",staticStyle:{width:"80%","margin-left":"20px"},attrs:{rules:e.rules,disabled:e.loading,model:e.temp,"label-position":"right","label-width":"25%"}},[i("el-form-item",{attrs:{label:e.$t("emailRecipients.mail"),prop:"mail"}},[i("el-input",{model:{value:e.temp.mail,callback:function(t){e.$set(e.temp,"mail",t)},expression:"temp.mail"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("emailRecipients.mailOrder"),prop:"mailOrder"}},[i("el-input-number",{attrs:{min:0},model:{value:e.temp.mailOrder,callback:function(t){e.$set(e.temp,"mailOrder",t)},expression:"temp.mailOrder"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(e._s(e.$t("email.cancel")))]),e._v(" "),"create"==e.dialogStatus?i("el-button",{attrs:{type:"primary"},on:{click:e.createData}},[e._v(e._s(e.$t("email.confirm")))]):i("el-button",{attrs:{type:"primary"},on:{click:e.updateData}},[e._v(e._s(e.$t("email.confirm")))])],1)],1)],1)])},[],!1,null,null,null);d.options.__file="EmailRecipients.vue";t.a=d.exports},BgMa:function(e,t,i){"use strict";var a=i("mJAr");i.n(a).a},Ee2s:function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"d",function(){return d}),i.d(t,"a",function(){return c}),i.d(t,"c",function(){return u});var a=i("vDqi"),l=i.n(a),n=i("Qyje"),o=i.n(n),s={username:i("Q2AE").a.getters.email};function r(e,t){return l.a.get(e,{params:t,headers:s})}function d(e,t){return l.a.post(e,o.a.stringify(t),{headers:s})}function c(e,t){return l.a.delete(e+"/"+t,{headers:s})}function u(e,t){return l.a.get(e+"/"+t,{headers:s})}},YCj1:function(e,t,i){"use strict";i.r(t);var a=i("P2sY"),l=i.n(a),n=i("Ee2s"),o=i("ZySA"),s=i("3V1f"),r=i("QbLZ"),d=i.n(r),c={name:"StyleTableHead",props:{scope:{type:Object,default:null}},data:function(){return{styleList:null,tableHeadList:null,styleLoading:!1,tableLoading:!1,italicOptions:s.B,alignOption:s.t,isBoldOptions:s.y,isMergeColOptions:s.z,dialogStyleVisible:!1,dialogTableListVisible:!1,textMap:{edit:"Edit",create:"Create"},dialogStatus:"edit",styleTemp:{id:"",rowNum:"",colNum:"",color:"",isItalic:"",isBold:"",isMergeCol:"",fontSize:"",textAlign:"",type:"",bizType:""},tableHeadTemp:{id:"",headcolumnName:"",headcolumnOrder:0,tableId:""},tableRules:{headcolumnName:[{required:!0,message:"Head Column Name is required",trigger:"blur"}],headcolumnOrder:[{required:!0,message:"Head Column Order is required",trigger:"blur"}]}}},created:function(){this.getStyle(),this.getTableHeadList()},methods:{getStyle:function(){var e=this;this.styleLoading=!0;var t={type:this.scope.row.type,bizType:this.scope.row.bizType};Object(n.b)(s.e+"/"+this.scope.row.bizType+"/"+this.scope.row.type,t).then(function(t){e.styleLoading=!1,1===t.data.code?e.styleList=t.data.data:e.$alert("Get Style Error: "+t.data.msg)}).catch(function(t){e.$alert("Get Style Error: "+t)})},getTableHeadList:function(){var e=this;this.tableLoading=!0,Object(n.b)(s.j+"/"+this.scope.row.id+"/columns",this.scope.row.id).then(function(t){e.tableLoading=!1,1===t.data.code?e.tableHeadList=t.data.data:e.$notify({title:"失败",message:t.data.msg,type:"error",duration:1e3})}).catch(function(t){e.$alert(t)})},handleResetStyle:function(){this.styleTemp.rowNum="",this.styleTemp.colNum="",this.styleTemp.color="",this.styleTemp.isItalic="",this.styleTemp.isBold="",this.styleTemp.isMergeCol="",this.styleTemp.fontSize="",this.styleTemp.textAlign=""},handleCreateStyle:function(e){console.log(5,e),this.handleResetStyle(),this.styleTemp.type=e.row.type,this.styleTemp.bizType=e.row.bizType,this.dialogStyleVisible=!0,this.dialogStatus="create"},createStyle:function(){var e=this;console.log("createStyle",this.styleTemp);var t=l()({},this.styleTemp);delete t.id,this.styleLoading=!0,Object(n.d)(s.e,t).then(function(t){e.styleLoading=!1,1===t.data.code?(e.dialogStyleVisible=!1,e.getStyle(),e.$notify({title:"成功",message:"提交成功!",type:"success",duration:2e3})):e.$notify({title:"失败",message:t.data.msg,type:"error",duration:2e3})}).catch(function(t){e.dialogStyleVisible=!1,e.$alert(t)})},handleEditStyle:function(e){this.dialogStatus="edit",this.dialogStyleVisible=!0,this.styleTemp.id=e.id,this.styleTemp.colNum=e.colNum,this.styleTemp.rowNum=e.rowNum,this.styleTemp.isItalic=e.isItalic,this.styleTemp.isBold=e.isBold,this.styleTemp.isMergeCol=e.isMergeCol,this.styleTemp.textAlign=e.textAlign,this.styleTemp.color=e.color,this.styleTemp.fontSize=e.fontSize,this.styleTemp.type=e.type,this.styleTemp.bizType=e.bizType},updateStyle:function(){var e=this,t=l()({},this.styleTemp);this.styleLoading=!0,Object(n.d)(s.e,t).then(function(t){e.styleLoading=!1,1===t.data.code?(e.dialogStyleVisible=!1,e.getStyle(),e.$notify({title:"成功",message:"提交成功!",type:"success",duration:2e3})):e.$notify({title:"失败",message:t.data.msg,type:"error",duration:2e3})}).catch(function(t){e.dialogStyleVisible=!1,e.$alert(t)})},deleteStyle:function(e){var t=this;this.$confirm("Are you sure delete this style?","Tips",{confirmButtonText:"Confirm",cancelButtonText:"Cancle",type:"warning"}).then(function(){Object(n.a)(s.e,e.id).then(function(e){1===e.data.code?(t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),t.getStyle()):t.$notify({title:"失败",message:e.data.msg,type:"error",duration:2e3})}).catch(function(e){t.$alert(e)})}).catch(function(e){})},handleResetTableHead:function(){this.tableHeadTemp.headcolumnName="",this.tableHeadTemp.headcolumnOrder=0},handleCreateTableHead:function(e){var t=this;this.handleResetTableHead(),this.dialogTableListVisible=!0,this.dialogStatus="create",this.tableHeadTemp.tableId=e.row.id,this.$nextTick(function(){t.$refs.tableForm.clearValidate()})},createTableHead:function(){var e=this;this.$refs.tableForm.validate(function(t){if(t){var i=d()({},e.tableHeadTemp);delete i.id,e.tableLoading=!0,Object(n.d)(s.q,i).then(function(t){e.tableLoading=!1,1===t.data.code?(e.dialogTableListVisible=!1,e.$notify({title:"成功",message:"提交成功!",type:"success",duration:2e3}),e.getTableHeadList()):e.$notify({title:"失败",message:t.data.msg,type:"error",duration:2e3})}).catch(function(t){e.dialogTableListVisible=!1,e.$alert(t)})}})},handleEditTableHead:function(e){this.dialogTableListVisible=!0,this.dialogStatus="edit",this.tableHeadTemp.id=e.id,this.tableHeadTemp.headcolumnName=e.headcolumnName,this.tableHeadTemp.headcolumnOrder=e.headcolumnOrder,this.tableHeadTemp.tableId=e.tableId},updateTableHead:function(){var e=this;this.$refs.tableForm.validate(function(t){if(t){var i=l()({},e.tableHeadTemp);e.tableLoading=!0,Object(n.d)(s.q,i).then(function(t){e.tableLoading=!1,1===t.data.code?(e.dialogTableListVisible=!1,e.getTableHeadList(),e.$notify({title:"成功",message:"提交成功!",type:"success",duration:2e3})):e.$notify({title:"失败",message:t.data.msg,type:"error",duration:2e3})}).catch(function(t){e.dialogTableListVisible=!1,e.$alert(t)})}})},deleteTableHead:function(e){var t=this;this.$confirm("Are you sure delete this table head?","Tips",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(function(){Object(n.a)(s.b,e.id).then(function(e){1===e.data.code?(t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),t.getTableHeadList()):t.$notify({title:"失败",message:e.data.msg,type:"error",duration:2e3})})}).catch(function(e){})}}},u=i("KHd+"),p=Object(u.a)(c,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{margin:"5px 5px 10px 5px",padding:"10px 10px 10px 10px",border:"1px solid #E4E7ED"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"grid-content",staticStyle:{margin:"0 0 0 15px"}},[e._v(e._s(e.$t("tableReportList.styleList")))])]),e._v(" "),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"grid-content",staticStyle:{"margin-right":"35px","margin-bottom":"10px"},attrs:{align:"right"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.handleCreateStyle(e.scope)}}},[e._v("Add")])],1)])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.styleLoading,expression:"styleLoading"}],staticStyle:{"margin-top":"10px"},attrs:{data:e.styleList,border:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:e.$t("tableReportList.id"),width:"60px",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.rowNum"),prop:"rowNum"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.colNum"),prop:"colNum"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.color"),prop:"color"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.italic"),prop:"isItalic"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.isBold"),prop:"isBold"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.fontSize"),prop:"fontSize"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.align"),prop:"textAlign"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.isMergeCol"),prop:"isMergeCol"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.actions"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticClass:"actionButton",attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(i){e.deleteStyle(t.row)}}}),e._v(" "),i("el-button",{staticClass:"actionButton",attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(i){e.handleEditStyle(t.row)}}})]}}])})],1)],1),e._v(" "),i("div",{staticStyle:{margin:"5px 5px 10px 5px",padding:"10px 10px 10px 10px",border:"1px solid #E4E7ED"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"grid-content",staticStyle:{margin:"0 0 0 15px"}},[e._v(e._s(e.$t("tableReportList.tableHeadList")))])]),e._v(" "),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"grid-content",staticStyle:{"margin-right":"35px","margin-bottom":"10px"},attrs:{align:"right"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.handleCreateTableHead(e.scope)}}},[e._v("Add")])],1)])],1),e._v(" "),i("el-row",[i("el-col",[i("p",[e._v("#{weekMonday}: This Monday; #{weekSunday}: This Sunday; #{weekMonday-1}: Last Monday. and so on")])])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{"margin-top":"10px"},attrs:{data:e.tableHeadList,border:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:e.$t("tableReportList.id"),width:"70px",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.headColumnName"),prop:"headcolumnName"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.headColumnOrder"),prop:"headcolumnOrder"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.actions"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticClass:"actionButton",attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(i){e.deleteTableHead(t.row)}}}),e._v(" "),i("el-button",{staticClass:"actionButton",attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(i){e.handleEditTableHead(t.row)}}})]}}])})],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogStyleVisible,title:e.textMap[e.dialogStatus],width:"30%"},on:{"update:visible":function(t){e.dialogStyleVisible=t}}},[i("el-form",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{model:e.styleTemp,disabled:e.styleLoading,"label-position":"right","label-width":"25%"}},[i("el-form-item",{attrs:{label:e.$t("tableReportList.rowNum")}},[i("el-input",{attrs:{type:"number"},model:{value:e.styleTemp.rowNum,callback:function(t){e.$set(e.styleTemp,"rowNum",t)},expression:"styleTemp.rowNum"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("tableReportList.colNum")}},[i("el-input",{attrs:{type:"number"},model:{value:e.styleTemp.colNum,callback:function(t){e.$set(e.styleTemp,"colNum",t)},expression:"styleTemp.colNum"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("tableReportList.fontSize")}},[i("el-input",{attrs:{type:"number"},model:{value:e.styleTemp.fontSize,callback:function(t){e.$set(e.styleTemp,"fontSize",t)},expression:"styleTemp.fontSize"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("tableReportList.italic")}},[i("el-select",{model:{value:e.styleTemp.isItalic,callback:function(t){e.$set(e.styleTemp,"isItalic",t)},expression:"styleTemp.isItalic"}},e._l(e.italicOptions,function(e){return i("el-option",{key:e.display_name,attrs:{label:e.display_name,value:e.display_name}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("tableReportList.isBold")}},[i("el-select",{model:{value:e.styleTemp.isBold,callback:function(t){e.$set(e.styleTemp,"isBold",t)},expression:"styleTemp.isBold"}},e._l(e.isBoldOptions,function(e){return i("el-option",{key:e.display_name,attrs:{label:e.display_name,value:e.display_name}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("tableReportList.isMergeCol")}},[i("el-select",{model:{value:e.styleTemp.isMergeCol,callback:function(t){e.$set(e.styleTemp,"isMergeCol",t)},expression:"styleTemp.isMergeCol"}},e._l(e.isMergeColOptions,function(e){return i("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("tableReportList.align")}},[i("el-select",{model:{value:e.styleTemp.textAlign,callback:function(t){e.$set(e.styleTemp,"textAlign",t)},expression:"styleTemp.textAlign"}},e._l(e.alignOption,function(e){return i("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("tableReportList.color")}},[i("el-color-picker",{model:{value:e.styleTemp.color,callback:function(t){e.$set(e.styleTemp,"color",t)},expression:"styleTemp.color"}})],1)],1),e._v(" "),i("div",{staticStyle:{"text-align":"center"}},[i("el-button",{on:{click:function(t){e.dialogStyleVisible=!1}}},[e._v(e._s(e.$t("tableReportList.cancel")))]),e._v(" "),"create"===e.dialogStatus?i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createStyle()}}},[e._v(e._s(e.$t("tableReportList.submit")))]):i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.updateStyle()}}},[e._v(e._s(e.$t("tableReportList.submit")))])],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogTableListVisible,title:e.textMap[e.dialogStatus],width:"40%"},on:{"update:visible":function(t){e.dialogTableListVisible=t}}},[i("el-form",{ref:"tableForm",staticStyle:{width:"80%","margin-left":"5px"},attrs:{model:e.tableHeadTemp,rules:e.tableRules,disabled:e.tableLoading,"label-position":"right","label-width":"30%"}},[i("el-form-item",{attrs:{label:e.$t("tableReportList.headColumnName"),prop:"headcolumnName"}},[i("el-input",{model:{value:e.tableHeadTemp.headcolumnName,callback:function(t){e.$set(e.tableHeadTemp,"headcolumnName",t)},expression:"tableHeadTemp.headcolumnName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("tableReportList.headColumnOrder"),prop:"headcolumnOrder"}},[i("el-input-number",{attrs:{min:0},model:{value:e.tableHeadTemp.headcolumnOrder,callback:function(t){e.$set(e.tableHeadTemp,"headcolumnOrder",t)},expression:"tableHeadTemp.headcolumnOrder"}})],1)],1),e._v(" "),i("div",{staticStyle:{"text-align":"center"}},[i("el-button",{on:{click:function(t){e.dialogTableListVisible=!1}}},[e._v(e._s(e.$t("tableReportList.cancel")))]),e._v(" "),"create"===e.dialogStatus?i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createTableHead()}}},[e._v(e._s(e.$t("tableReportList.submit")))]):i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.updateTableHead()}}},[e._v(e._s(e.$t("tableReportList.submit")))])],1)],1)],1)},[],!1,null,null,null);p.options.__file="StyleTableHead.vue";var m=p.exports,b=i("Yfch"),f={name:"ReportList",directives:{waves:o.a},components:{StyleListHead:m},props:{bizType:{type:String,required:!0}},data:function(){return{list:null,modifiable:!0,listLoading:!1,dialogFormVisible:!1,dialogStatus:"",italicOptions:s.B,alignOption:s.t,isMergeColOptions:s.z,textMap:{edit:"Edit",create:"Create"},dialogTableListVisible:!1,temp:{bizType:this.bizType,type:"",execOrder:"",titleHtml:"",tableSql:""},rules:{titleHtml:[{required:!0,message:"Title HTML is required",trigger:"blur"}],tableSql:[{required:!0,message:"Table SQL is required",trigger:"blur"}],type:[{required:!0,message:"Type  is required",trigger:"blur"},{validator:function(e,t,i){Object(b.b)(t)?i(new Error('This param can not include "? . / ; [ ] % # "')):i()}}],execOrder:[{required:!0,message:"Order  is required"}]}}},mounted:function(){this.getReportList()},methods:{getReportList:function(){var e=this;this.listLoading=!0,Object(n.b)(s.s+"/"+this.bizType,this.bizType).then(function(t){console.log(t),1===t.data.code?(e.list=t.data.data,e.listLoading=!1):e.$alert("Get ReportList Error: "+t.data.msg)}).catch(function(t){e.$alert("Get ReportList Error: "+t)})},handleEdit:function(e){var t=this;this.dialogFormVisible=!0,console.log(1111,e),this.temp.id=e.id,this.temp.titleHtml=e.titleHtml,this.temp.execOrder=e.execOrder,this.temp.bizType=this.bizType,this.temp.tableSql=e.tableSql,this.temp.type=e.type,this.dialogStatus="edit",this.$nextTick(function(){t.$refs.dataForm.clearValidate()})},updateTable:function(){var e=this;this.$refs.dataForm.validate(function(t){t?(e.listLoading=!0,Object(n.d)(s.r,e.temp).then(function(t){e.listLoading=!1,1===t.data.code?(e.dialogFormVisible=!1,e.getReportList(),e.$notify({title:"成功",message:"提交成功",type:"success",duration:2e3})):e.$notify({title:"失败",message:t.data.msg,type:"error",duration:1e3})}).catch(function(t){e.dialogFormVisible=!1,e.$alert(t)})):e.$notify({title:"失败",message:"请填写完整提交数据",type:"error",duration:1e3})})},handleCreate:function(){var e=this;this.dialogFormVisible=!0,this.dialogStatus="create",this.temp.type="",this.temp.execOrder="",this.temp.titleHtml="",this.temp.tableSql="",this.temp.bizType=this.bizType,this.$nextTick(function(){e.$refs.dataForm.clearValidate()})},createTable:function(){var e=this;this.$refs.dataForm.validate(function(t){if(t){e.listLoading=!0;var i=l()({},e.temp);delete i.id,Object(n.d)(s.r,i).then(function(t){e.listLoading=!1,1===t.data.code?(e.dialogFormVisible=!1,e.getReportList(),e.$notify({title:"成功",message:"提交成功!",type:"success",duration:2e3})):e.$notify({title:"失败",message:t.data.msg,type:"error",duration:2e3})}).catch(function(t){e.dialogFormVisible=!1,e.$alert(t)})}else e.$notify({title:"失败",message:"请填写完整提交数据",type:"error",duration:1e3})})},deleteTable:function(e){var t=this;this.$confirm("Are you sure delete this table?","Tips",{confirmButtonText:"Confirm",cancelButtonText:"Cancle",type:"warning"}).then(function(){t.listLoading=!0,Object(n.a)(s.c,e.id).then(function(e){t.listLoading=!1,1===e.data.code?(t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),t.getReportList()):t.$notify({title:"失败",message:e.data.msg,type:"error",duration:2e3})}).catch(function(e){console.log(e),t.listLoading=!1,t.$alert(e)})}).catch(function(){t.listLoading=!1})},sendEmail:function(){this.$notify({title:"发送中",message:"发送中",type:"info",duration:1e3}),Object(n.b)(s.f+"/"+this.bizType,this.bizType).then(function(e){}).catch(function(e){})}}},y=(i("0JTJ"),Object(u.a)(f,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticStyle:{margin:"5px 5px 5px 5px",padding:"20px 20px 20px 20px",border:"1px solid #E4E7ED"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"grid-content",staticStyle:{margin:"0 0 0 15px"}},[e._v(e._s(e.$t("tableReportList.reportList")))])]),e._v(" "),i("el-col",{attrs:{span:12,align:"middle"}},[i("div",{staticClass:"grid-content",attrs:{align:"right"}},[i("el-button",{staticClass:"actionButton",attrs:{type:"primary",size:"mini"},on:{click:e.handleCreate}},[e._v("Add")]),e._v(" "),i("el-button",{staticClass:"actionButton",attrs:{type:"primary",size:"mini"},on:{click:e.sendEmail}},[e._v("Send Test Email")])],1)])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:e.$t("tableReportList.id"),width:"60px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.bizType")},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.bizType))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.titleHtml")},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.titleHtml))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.type")},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.type))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.execOrder"),width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.execOrder))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("tableReportList.actions"),align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticClass:"actionButton",attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(i){e.deleteTable(t.row)}}}),e._v(" "),i("el-button",{staticClass:"actionButton",attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(i){e.handleEdit(t.row)}}})]}}])}),e._v(" "),i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("style-list-head",{attrs:{scope:e}})]}}])})],1),e._v(" "),i("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",staticStyle:{width:"80%","margin-left":"20px"},attrs:{disabled:e.listLoading,rules:e.rules,model:e.temp,"label-position":"right","label-width":"25%"}},[i("el-form-item",{attrs:{label:e.$t("tableReportList.bizType")}},[i("el-input",{attrs:{disabled:!0},model:{value:e.temp.bizType,callback:function(t){e.$set(e.temp,"bizType",t)},expression:"temp.bizType"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("tableReportList.titleHtml"),prop:"titleHtml"}},[i("el-input",{model:{value:e.temp.titleHtml,callback:function(t){e.$set(e.temp,"titleHtml",t)},expression:"temp.titleHtml"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("tableReportList.type"),prop:"type"}},[i("el-input",{attrs:{disabled:"edit"===e.dialogStatus},model:{value:e.temp.type,callback:function(t){e.$set(e.temp,"type",t)},expression:"temp.type"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("tableReportList.execOrder"),prop:"execOrder"}},[i("el-input-number",{attrs:{min:0},model:{value:e.temp.execOrder,callback:function(t){e.$set(e.temp,"execOrder",t)},expression:"temp.execOrder"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("tableReportList.tableSql"),prop:"tableSql"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.temp.tableSql,callback:function(t){e.$set(e.temp,"tableSql",t)},expression:"temp.tableSql"}})],1)],1),e._v(" "),i("div",{staticStyle:{"text-align":"center"}},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(e._s(e.$t("email.cancel")))]),e._v(" "),"create"==e.dialogStatus?i("el-button",{attrs:{type:"primary"},on:{click:e.createTable}},[e._v(e._s(e.$t("email.confirm")))]):i("el-button",{attrs:{type:"primary"},on:{click:e.updateTable}},[e._v(e._s(e.$t("email.confirm")))])],1)],1)],1)])},[],!1,null,"46e32bd9",null));y.options.__file="ReportList.vue";var h=y.exports,g=i("vDqi"),v=i.n(g),T={name:"EmailHTML",props:{bizType:{type:String,required:!0}},data:function(){return{content:{header:{},footer:{}},modifiedEmail:!0,listLoading:!1,rules:{header:{contentHtml:[{required:!0,message:"Email Header is required"}]},footer:{contentHtml:[{required:!0,message:"Email Tail is required"}]}}}},created:function(){this.getEmailHTML()},methods:{getEmailHTML:function(){var e=this;this.listLoading=!0,Object(n.c)(s.d,this.bizType).then(function(t){if(e.listLoading=!1,1===t.data.code)for(var i=0;i<t.data.data.length;i++)"head"===t.data.data[i].type&&(e.content.header=t.data.data[i]),"foot"===t.data.data[i].type&&(e.content.footer=t.data.data[i]);else e.$alert("Get Email HTML Error: "+t.data.msg)}).catch(function(t){e.$alert("Get Email HTML Error: "+t)})},handleEdit:function(){this.modifiedEmail=!1},confirmEmail:function(){var e=this,t=this;this.$refs.dataForm.validate(function(i){if(i){var a={},o={};e.content.header.id?(a=l()({},e.content.header),o=l()({},e.content.footer)):(a.type="head",a.bizType=e.bizType,a.contentHtml=e.content.header.contentHtml,o.type="foot",o.bizType=e.bizType,o.contentHtml=e.content.footer.contentHtml),v.a.all([Object(n.d)(s.d,a),Object(n.d)(s.d,o)]).then(v.a.spread(function(e,i){if(t.modifiedEmail=!0,1===e.data.code&&1===i.data.code)t.getEmailHTML(),t.$notify({title:"成功",message:"提交成功",type:"success",duration:2e3});else{var a="SUCCESS"!==e.data.msg.toLocaleUpperCase()?e.data.msg:i.data.msg;t.$notify({title:"失败",message:a,type:"error",duration:2e3})}}))}else e.$notify({title:"失败",message:"提交内容不能为空",type:"error",duration:2e3})})}}},_=(i("BgMa"),Object(u.a)(T,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticStyle:{margin:"5px 5px 5px 5px",padding:"20px 10px 10px 20px",border:"1px solid #E4E7ED"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{margin:"0 0 20px 15px"}},[e._v(e._s(e.$t("tableReportList.emailHtml")))])]),e._v(" "),i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{"margin-right":"15px","margin-bottom":"15px"},attrs:{align:"right"}},[i("el-button",{attrs:{disabled:!e.modifiedEmail,type:"primary",size:"mini"},on:{click:function(t){e.handleEdit()}}},[e._v(e._s(e.$t("tableReportList.edit")))]),e._v(" "),i("el-button",{attrs:{disabled:e.modifiedEmail,type:"primary",size:"mini"},on:{click:function(t){e.confirmEmail()}}},[e._v(e._s(e.$t("tableReportList.submit")))])],1)])],1),e._v(" "),i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"dataForm",attrs:{model:e.content,rules:e.rules,disabled:e.modifiedEmail,"label-position":"right",inline:"","label-width":"120px"}},[i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:e.$t("tableReportList.header"),prop:"header.contentHtml"}},[i("el-input",{attrs:{rows:4,type:"textarea"},model:{value:e.content.header.contentHtml,callback:function(t){e.$set(e.content.header,"contentHtml",t)},expression:"content.header.contentHtml"}})],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("tableReportList.tail"),prop:"footer.contentHtml"}},[i("el-input",{attrs:{rows:4,type:"textarea"},model:{value:e.content.footer.contentHtml,callback:function(t){e.$set(e.content.footer,"contentHtml",t)},expression:"content.footer.contentHtml"}})],1)],1)],1)])},[],!1,null,null,null));_.options.__file="EmailHtml.vue";var x={name:"EmailTablelView",components:{ReportList:h,EmailHtml:_.exports,EmailRecipientes:i("92sj").a},data:function(){return{bizType:""}},created:function(){this.bizType=this.$route.query.bizType}},$=Object(u.a)(x,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("report-list",{attrs:{"biz-type":this.bizType}}),this._v(" "),t("email-html",{attrs:{"biz-type":this.bizType}}),this._v(" "),t("email-recipientes",{attrs:{"biz-type":this.bizType}})],1)},[],!1,null,null,null);$.options.__file="EmailTableView.vue";t.default=$.exports},Z9SW:function(e,t,i){},ZySA:function(e,t,i){"use strict";var a=i("P2sY"),l=i.n(a),n=(i("jUE0"),{bind:function(e,t){e.addEventListener("click",function(i){var a=l()({},t.value),n=l()({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),o=n.ele;if(o){o.style.position="relative",o.style.overflow="hidden";var s=o.getBoundingClientRect(),r=o.querySelector(".waves-ripple");switch(r?r.className="waves-ripple":((r=document.createElement("span")).className="waves-ripple",r.style.height=r.style.width=Math.max(s.width,s.height)+"px",o.appendChild(r)),n.type){case"center":r.style.top=s.height/2-r.offsetHeight/2+"px",r.style.left=s.width/2-r.offsetWidth/2+"px";break;default:r.style.top=(i.pageY-s.top-r.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",r.style.left=(i.pageX-s.left-r.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return r.style.backgroundColor=n.color,r.className="waves-ripple z-active",!1}},!1)}}),o=function(e){e.directive("waves",n)};window.Vue&&(window.waves=n,Vue.use(o)),n.install=o;t.a=n},jUE0:function(e,t,i){},mJAr:function(e,t,i){}}]);