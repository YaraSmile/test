(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8e96"],{"3V1f":function(e,t,l){"use strict";l.d(t,"G",function(){return a}),l.d(t,"v",function(){return u}),l.d(t,"D",function(){return r}),l.d(t,"B",function(){return i}),l.d(t,"y",function(){return o}),l.d(t,"t",function(){return n}),l.d(t,"z",function(){return s}),l.d(t,"w",function(){return c}),l.d(t,"A",function(){return p}),l.d(t,"C",function(){return b}),l.d(t,"F",function(){return d}),l.d(t,"H",function(){return v}),l.d(t,"x",function(){return h}),l.d(t,"E",function(){return m}),l.d(t,"u",function(){return f}),l.d(t,"m",function(){return y}),l.d(t,"h",function(){return x}),l.d(t,"o",function(){return _}),l.d(t,"n",function(){return M}),l.d(t,"k",function(){return k}),l.d(t,"s",function(){return D}),l.d(t,"r",function(){return g}),l.d(t,"c",function(){return S}),l.d(t,"e",function(){return O}),l.d(t,"f",function(){return H}),l.d(t,"j",function(){return w}),l.d(t,"b",function(){return R}),l.d(t,"q",function(){return C}),l.d(t,"d",function(){return G}),l.d(t,"i",function(){return J}),l.d(t,"a",function(){return L}),l.d(t,"p",function(){return P}),l.d(t,"g",function(){return $}),l.d(t,"l",function(){return W});var a=[{display_name:"table"},{display_name:"excel"}],u=[{display_name:"yyyyMMdd"},{display_name:"yyyyMMdd Kaa"}],r=[{display_name:"Asia/Manila"},{display_name:"Asia/Jakarta"}],i=[{display_name:"Y"},{display_name:"N"}],o=[{display_name:"Y"},{display_name:"N"}],n=[{label:"Left",value:"left"},{label:"Right",value:"right"}],s=[{label:"Y",value:"Y"},{label:"N",value:""}],c=[{display_name:"excel"},{display_name:"csv"}],p=[{label:"Y",value:"Y"},{label:"N",value:"N"}],b=[{label:"By Month",value:"MONTH"},{label:"By Week",value:"WEEK"},{label:"By Day",value:"DAY"}],d=[{label:"January",value:"1"},{label:"February",value:"2"},{label:"March",value:"3"},{label:"April",value:"4"},{label:"May",value:"5"},{label:"June",value:"6"},{label:"July",value:"7"},{label:"August",value:"8"},{label:"September",value:"9"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}],v=[{label:"Monday",value:"2"},{label:"Tuesday",value:"3"},{label:"Wednesday",value:"4"},{label:"Thursday",value:"5"},{label:"Friday",value:"6"},{label:"Saturday",value:"7"},{label:"Sunday",value:"1"}];var h=function(){for(var e=[],t=0;t<24;t++)e[t]={value:t};return console.log(3,e),e}();var m=function(){for(var e=[],t=0;t<60;t++)e[t]={value:t,label:"0"+t};return e}(),f=[{label:"1st",value:"1"},{label:"2nd",value:"2"},{label:"3rd",value:"3"},{label:"4th",value:"4"},{label:"5th",value:"5"},{label:"6th",value:"6"},{label:"7th",value:"7"},{label:"8th",value:"8"},{label:"9th",value:"9"},{label:"10th",value:"10"},{label:"11th",value:"11"},{label:"12th",value:"12"},{label:"13th",value:"13"},{label:"14th",value:"14"},{label:"15th",value:"15"},{label:"16th",value:"16"},{label:"17th",value:"17"},{label:"18th",value:"18"},{label:"19th",value:"19"},{label:"20th",value:"20"},{label:"21st",value:"21"},{label:"22nd",value:"22"},{label:"23rd",value:"23"},{label:"24th",value:"24"},{label:"25th",value:"25"},{label:"26th",value:"26"},{label:"27th",value:"27"},{label:"28th",value:"28"},{label:"29th",value:"29"},{label:"30th",value:"30"},{label:"31th",value:"31"}],y="/webapi/biz",x="/webapi/schedulereport/biz",_="/webapi/biz/publish",M="/webapi/biz/stop",k="/webapi/schedulereport/biz/getPhaseId",D="/webapi/schedulereport/table/biz",g="/webapi/schedulereport/biz/table",S="/webapi/schedulereport/table/biz",O="/webapi/schedulereport/style",H="/webapi/schedulereport/mail",w="/webapi/schedulereport/table",R="/webapi/schedulereport/table/column",C="/webapi/schedulereport/table/column",G="/webapi/schedulereport/biz/table/html",J="/webapi/schedulereport/biz",L="/webapi/schedulereport/biz/mail",P="/webapi/schedulereport/biz/mail",$="/webapi/schedulereport/excel/biz",W="/webapi/schedulereport/biz/excel"},H4zi:function(e,t,l){"use strict";l.r(t);var a=l("gDS+"),u=l.n(a),r=l("3V1f"),i=l("dewd"),o={name:"CreatePeopleLibrary",data:function(){return{isRepeatOptions:r.A,labelExecuteModeOptions:r.C,monthOptions:r.F,dayOptions:r.u,weekOptions:r.H,hourOptions:r.x,minuteOptions:r.E,peopleLibraryId:null,startDate:"",endDate:"",isRepeat:"N",executeMode:"MONTH",executeDay:[],executeMonth:[],executeHour:[],executeMinute:[],executeWeek:[],peopleLibraryDesc:"",submitResult:null,labelListJson:null,controlGroupOptions:null,controlGroupJson:[],rules:{startDate:[{required:!0,message:"Please Select sDate"+this.startDate,trigger:"change"}],endDate:[{required:!0,message:"Please Select Date",trigger:"change"}],executeHour:[{required:!0,message:"Please Select at least one value",trigger:"change"}]}}},created:function(){this.labelListJson=this.$route.params.labelListJson,console.log(1111111,this.labelListJson),this.getControlRadioOptions()},methods:{handleReturn:function(){this.$router.go(-1)},getControlRadioOptions:function(){var e=this;Object(i.b)().then(function(t){if(1===t.data.code){console.log(2,t.data.data),e.controlGroupOptions=t.data.data;for(var l=0;l<e.controlGroupOptions.length;l++)e.controlGroupJson[l]={controlGroupId:e.controlGroupOptions[l].controlGroupId,ratio:e.controlGroupOptions[l].ratio};console.log(3,e.controlGroupJson)}else e.$alert(t.data.msg)}).catch(function(t){e.$alert("get controlGroupOptions error: "+t)})},validateRadio:function(e){this.controlGroupJson[e].ratio=this.controlGroupJson[e].ratio.replace(/[^\.\d]/g,""),this.controlGroupJson[e].ratio=this.controlGroupJson[e].ratio.replace(".","")},initValues:function(){this.executeDay=[],this.executeMonth=[],this.executeWeek=[],this.executeHour=[],this.executeMinute=[]},handleConfirm:function(){var e=this;"N"===this.isRepeat?(this.endDate=this.startDate,this.executeMode="",this.executeDay=["*"],this.executeMonth=["*"],this.executeHour=["*"],this.executeMinute=["*"],this.executeWeek=["*"]):("MONTH"===this.executeMode&&(this.executeWeek=["?"]),"WEEK"===this.executeMode&&(this.executeMonth=["*"],this.executeDay=["?"]),"DAY"===this.executeMode&&(this.executeMonth=["*"],this.executeWeek=["*"],this.executeDay=["*"])),this.loading=!0;var t={startDate:this.startDate,endDate:this.endDate,peopleLibraryDesc:this.peopleLibraryDesc,executeMode:this.executeMode,executeMonth:this.executeMonth,executeWeek:this.executeWeek,executeDay:this.executeDay,executeHour:this.executeHour,executeMinute:this.executeMinute,isRepetition:this.isRepeat,labelListJson:u()(this.labelListJson),controlGroupJson:u()(this.controlGroupJson)};Object(i.a)(t).then(function(t){e.loading=!1,console.log(666,t),1===t.data.code?(e.submitResult=1,e.peopleLibraryId=t.data.data,e.$notify({title:"success",message:"success",type:"success",duration:2e3})):e.$notify({title:"fail",message:t.data.msg,type:"error",duration:4e3})})}}},n=(l("bu4S"),l("KHd+")),s=Object(n.a)(o,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"createPeopleLibraryStyle"},[l("el-form",{staticClass:"createPeopleLibraryFormStyle",attrs:{disabled:1===e.submitResult,"label-position":"right","label-width":"30%"}},[l("el-form-item",{attrs:{label:e.$t("crm.peopleLibraryDesc")}},[l("el-input",{attrs:{row:2,type:"textarea",placeholder:"Please describe this people library"},model:{value:e.peopleLibraryDesc,callback:function(t){e.peopleLibraryDesc=t},expression:"peopleLibraryDesc"}})],1),e._v(" "),l("el-form-item",{attrs:{label:e.$t("crm.isRepeat")}},[l("el-select",{model:{value:e.isRepeat,callback:function(t){e.isRepeat=t},expression:"isRepeat"}},e._l(e.isRepeatOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),"N"===e.isRepeat?l("el-form-item",{attrs:{label:e.$t("crm.executeTime")}},[l("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1):e._e(),e._v(" "),"Y"===e.isRepeat?l("el-form-item",{attrs:{label:e.$t("crm.startDate")}},[l("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1):e._e(),e._v(" "),"Y"===e.isRepeat?l("el-form-item",{attrs:{label:e.$t("crm.endDate")}},[l("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1):e._e(),e._v(" "),"Y"===e.isRepeat?l("el-form-item",{attrs:{label:e.$t("crm.executeMode")}},[l("el-select",{on:{change:function(t){e.initValues()}},model:{value:e.executeMode,callback:function(t){e.executeMode=t},expression:"executeMode"}},e._l(e.labelExecuteModeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1):e._e(),e._v(" "),"Y"===e.isRepeat&&"MONTH"===e.executeMode?l("el-form-item",{attrs:{label:e.$t("crm.byMonth")}},[l("div",{staticClass:"timeStyle"},[l("el-form-item",{attrs:{prop:"executeHour"}},[l("el-select",{attrs:{filterable:"",multiple:"",placeholder:"Please Select Hour"},model:{value:e.executeHour,callback:function(t){e.executeHour=t},expression:"executeHour"}},e._l(e.hourOptions,function(e){return l("el-option",{key:e.value,attrs:{value:e.value,label:e.value}})}))],1)],1),e._v(" "),l("div",{staticClass:"timeSplitStyle"},[l("span",[e._v(":")])]),e._v(" "),l("div",{staticClass:"timeStyle"},[l("el-form-item",[l("el-select",{attrs:{filterable:"",multiple:"",placeholder:"Please Select Minute"},model:{value:e.executeMinute,callback:function(t){e.executeMinute=t},expression:"executeMinute"}},e._l(e.minuteOptions,function(e){return l("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}))],1)],1),e._v(" "),l("div",{staticClass:"executeDayStyle"},[l("el-form-item",[l("el-select",{attrs:{filterable:"",multiple:"",placeholder:"Please Select Day"},model:{value:e.executeDay,callback:function(t){e.executeDay=t},expression:"executeDay"}},e._l(e.dayOptions,function(e){return l("el-option",{key:e.label,attrs:{value:e.value,label:e.label}})}))],1)],1),e._v(" "),l("div",{staticClass:"executeMonthStyle"},[l("el-form-item",[l("el-select",{attrs:{multiple:"",placeholder:"Please Select Month"},model:{value:e.executeMonth,callback:function(t){e.executeMonth=t},expression:"executeMonth"}},e._l(e.monthOptions,function(e){return l("el-option",{key:e.label,attrs:{value:e.value,label:e.label}})}))],1)],1)]):e._e(),e._v(" "),"Y"===e.isRepeat&&"WEEK"===e.executeMode?l("el-form-item",{attrs:{label:e.$t("crm.byWeek")}},[l("div",[l("div",{staticClass:"timeStyle"},[l("el-select",{attrs:{filterable:"",multiple:"",placeholder:"Please Select Hour"},model:{value:e.executeHour,callback:function(t){e.executeHour=t},expression:"executeHour"}},e._l(e.hourOptions,function(e){return l("el-option",{key:e.value,attrs:{value:e.value,label:e.value}})}))],1),e._v(" "),l("div",{staticClass:"timeSplitStyle"},[l("span",[e._v(":")])]),e._v(" "),l("div",{staticClass:"timeStyle"},[l("el-select",{attrs:{filterable:"",multiple:"",placeholder:"Please Select Minute"},model:{value:e.executeMinute,callback:function(t){e.executeMinute=t},expression:"executeMinute"}},e._l(e.minuteOptions,function(e){return l("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}))],1),e._v(" "),l("div",{staticClass:"executeWeekStyle"},[l("el-select",{attrs:{multiple:"",placeholder:"Please Select Week"},model:{value:e.executeWeek,callback:function(t){e.executeWeek=t},expression:"executeWeek"}},e._l(e.weekOptions,function(e){return l("el-option",{key:e.label,attrs:{value:e.value,label:e.label}})}))],1)])]):e._e(),e._v(" "),"Y"===e.isRepeat&&"DAY"===e.executeMode?l("el-form-item",{attrs:{label:e.$t("crm.byDay")}},[l("div",[l("div",{staticClass:"timeStyle"},[l("el-select",{attrs:{filterable:"",multiple:"",placeholder:"Please Select Hour"},model:{value:e.executeHour,callback:function(t){e.executeHour=t},expression:"executeHour"}},e._l(e.hourOptions,function(e){return l("el-option",{key:e.value,attrs:{value:e.value,label:e.value}})}))],1),e._v(" "),l("div",{staticClass:"timeSplitStyle"},[l("span",[e._v(":")])]),e._v(" "),l("div",{staticClass:"timeStyle"},[l("el-select",{attrs:{filterable:"",multiple:"",placeholder:"Please Select Minute"},model:{value:e.executeMinute,callback:function(t){e.executeMinute=t},expression:"executeMinute"}},e._l(e.minuteOptions,function(e){return l("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}))],1)])]):e._e(),e._v(" "),e._l(e.controlGroupOptions,function(t,a){return l("el-form-item",{key:t.controlGroupId,attrs:{label:t.controlGroupName.substring(0,1).toUpperCase()+t.controlGroupName.substring(1)+" Group Ratio"}},[l("el-input",{staticStyle:{width:"30%"},attrs:{type:"number"},model:{value:e.controlGroupJson[a].ratio,callback:function(t){e.$set(e.controlGroupJson[a],"ratio",t)},expression:"controlGroupJson[index].ratio"}}),e._v(" "),l("span",[e._v("%")])],1)})],2),e._v(" "),1===e.submitResult?l("div",{staticClass:"resultStyle"},[l("p",[e._v("✅ Create Successfully, The ID of People Library is "+e._s(e.peopleLibraryId)+" ")])]):e._e(),e._v(" "),l("div",{staticClass:"button-style"},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleReturn()}}},[e._v(e._s(e.$t("crm.return")))]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleConfirm()}}},[e._v(e._s(e.$t("crm.confirm")))])],1)],1)},[],!1,null,null,null);s.options.__file="CreatePeopleLibrary.vue";t.default=s.exports},bu4S:function(e,t,l){"use strict";var a=l("pOtm");l.n(a).a},pOtm:function(e,t,l){}}]);